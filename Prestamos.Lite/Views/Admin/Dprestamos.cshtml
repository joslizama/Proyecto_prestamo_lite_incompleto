@model Prestamos.Lite.Models.Prestamo

@{
    /**/


    var r = Convert.ToString(Session["rut"]);
    var t = Convert.ToInt32(Session["tipo"]);

    if (r == null || r == "" || t == null || t != 1)
    {

        Response.Redirect("~/Home/Error");

    }



}


<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Prestamos</title>
    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="~/Estilos/Estilo_tab.css">
    <style>

        label.error {
            color: red;
        }

        estado {
            color: green;
        }

        estado2 {
            color: red;
        }
    </style>
    <link href='https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css' rel='stylesheet'>
    <script src="~/Scripts/jquery-3.6.3.js"></script>
    <script src="~/Scripts/jquery.unobtrusive-ajax.js"></script>
    <script src="~/Scripts/jquery.validate.js"></script>

</head>
<body>
    <!-- Navigation -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark static-top">
        <div class="container">
            <a class="navbar-brand" href="#">Prestamos</a>
            <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarResponsive">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item active">
                        <a class="nav-link" href="/Admin/Lprestamos">Volver al listado de prestamos</a>
                    </li>

                    <li class="nav-item active">
                        <a class="nav-link" href="/Admin/Index_admin">Volver al inicio</a>
                    </li>

                    <li class="nav-item active">
                        <a class="nav-link" href="/Admin/Csesion">Cerrar sesion</a>
                    </li>

                </ul>
            </div>
        </div>
    </nav>
    <!-- Page Content -->
    <!--Tabs-->
    <br />

    <table align="center" class="border">

        <tr>
            <td colspan="4" align="center"><center><h6>Detalle del prestamo</h6></center></td>
        </tr>
        <tr>
            <td><label for="formGroupExampleInput">Numero de operacion : </label></td>
            <td><label for="formGroupExampleInput">@Model.numero_operacion </label></td>
            <td><label for="formGroupExampleInput">Fecha de regsitro del prestamos : </label></td>
            <td><label for="formGroupExampleInput">@Model.fecha_registro_prestamo </label></td>
        </tr>

        <tr>
            <td><label for="formGroupExampleInput">Tipo de moneda del prestamo : </label></td>
            <td>
                @foreach (var i in TempData["lmoneda"] as List<Prestamos.Lite.Models.Tipo_moneda>)
                {
                    var idm = Convert.ToInt32(Model.tipo_moneda_id);

                    if (idm == i.id)
                    {

                        <label for="formGroupExampleInput">@i.nombre_divisa </label>

                    }

                }

            </td>

            <td><label for="formGroupExampleInput">Tipo de pago : </label></td>
            <td>
                @foreach (var i in TempData["lpago"] as List<Prestamos.Lite.Models.Tipo_pago>)
                {
                    var idp = Convert.ToInt32(Model.tipo_pago_id);

                    if (idp == i.id)
                    {

                        <label for="formGroupExampleInput">@i.nombre </label>

                    }

                }

            </td>


        </tr>


        <tr>
            <td><label for="formGroupExampleInput">Fecha de inicio del pago : </label></td>
            <td><label for="formGroupExampleInput">@Model.fecha_inicio_pago </label></td>
            <td><label for="formGroupExampleInput">Fecha fin del pago : </label></td>
            <td><label for="formGroupExampleInput">@Model.fecha_fin_pago </label></td>



        </tr>
        <tr>
            <td><label for="formGroupExampleInput">Monto del prestamo : </label></td>
            <td><label for="formGroupExampleInput">@Model.monto_prestamo </label></td>
            <td><label for="formGroupExampleInput">Numero de cuotas : </label></td>
            <td><label for="formGroupExampleInput">@Model.numero_cuotas </label></td>



        </tr>
        <tr>
            <td><label for="formGroupExampleInput">Interes : </label></td>
            <td><label for="formGroupExampleInput">@Model.intereses </label></td>
            <td><label for="formGroupExampleInput">Numero de cuotas sin interes : </label></td>
            <td><label for="formGroupExampleInput">@Model.monto_cuotas_sin_interes </label></td>



        </tr>
        <tr>
            <td><label for="formGroupExampleInput">Monto de cuotas con interes : </label></td>
            <td><label for="formGroupExampleInput">@Model.monto_cuotas_con_interes </label></td>
            <td><label for="formGroupExampleInput">Total del prestamo : </label></td>
            <td><label for="formGroupExampleInput">@Model.total_prestamo </label></td>



        </tr>
        <tr>
            <td><label for="formGroupExampleInput">Rut cliente : </label></td>
            <td>

                @foreach (var z in TempData["lcliente"] as List<Prestamos.Lite.Models.Cliente>)
                {
                    var rcliente = Convert.ToString(Model.cliente_id);

                    if (rcliente.Equals(z.rut))
                    {

                        <label for="formGroupExampleInput">@z.rut </label>

                    }

                }




            </td>
            <td><label for="formGroupExampleInput">Nombre cliente : </label></td>
            <td>

                @foreach (var x in TempData["lcliente"] as List<Prestamos.Lite.Models.Cliente>)
                {
                    var rcliente2 = Convert.ToString(Model.cliente_id);

                    if (rcliente2.Equals(x.rut))
                    {

                        <label for="formGroupExampleInput">@x.nombre </label>

                    }

                }




            </td>





        </tr>

        <tr>
            <td><label for="formGroupExampleInput">Apellido cliente : </label></td>
            <td>

                @foreach (var v in TempData["lcliente"] as List<Prestamos.Lite.Models.Cliente>)
                {
                    var rcliente = Convert.ToString(Model.cliente_id);

                    if (rcliente.Equals(v.rut))
                    {

                        <label for="formGroupExampleInput">@v.apellido</label>

                    }

                }




            </td>

            <td><label for="formGroupExampleInput">Clausulas : </label></td>
            <td><label for="formGroupExampleInput">@Model.clausulas </label></td>


        </tr>



    </table>
















    <!-- Bootstrap core JavaScript -->
    <script src="vendor/jquery/jquery.slim.min.js"></script>
    <script src="vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
</body>
</html>
